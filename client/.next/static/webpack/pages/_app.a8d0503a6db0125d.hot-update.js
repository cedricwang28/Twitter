"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./context/TwitterContext.js":
/*!***********************************!*\
  !*** ./context/TwitterContext.js ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TwitterContext\": function() { return /* binding */ TwitterContext; },\n/* harmony export */   \"TwitterProvider\": function() { return /* binding */ TwitterProvider; }\n/* harmony export */ });\n/* harmony import */ var _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/regenerator-runtime/runtime.js */ \"./node_modules/next/dist/compiled/regenerator-runtime/runtime.js\");\n/* harmony import */ var _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/client */ \"./lib/client.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\n\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _asyncToGenerator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nvar _this = undefined;\nvar _s = $RefreshSig$();\nvar TwitterContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)();\nvar TwitterProvider = function(param) {\n    var children = param.children;\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\"), appStatus = ref[0], setAppStatus = ref[1];\n    var ref1 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\"), currentAccount = ref1[0], setCurrentAccount = ref1[1];\n    var ref2 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({}), currentUser = ref2[0], setCurrentUser = ref2[1];\n    var ref3 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]), tweets = ref3[0], setTweets = ref3[1];\n    var router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function() {\n        checkIfWalletIsConnected();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function() {\n        if (!currentAccount && appStatus == \"connected\") return;\n        getCurrentUserDetails(currentAccount);\n        fetchTweets();\n    }, [\n        currentAccount,\n        appStatus\n    ]);\n    /**\n   * Checks if there is an active wallet connection\n   */ var checkIfWalletIsConnected = function() {\n        var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee() {\n            var addressArray;\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        if (window.ethereum) {\n                            _ctx.next = 2;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\", setAppStatus(\"noMetaMask\"));\n                    case 2:\n                        _ctx.prev = 2;\n                        _ctx.next = 5;\n                        return window.ethereum.request({\n                            method: \"eth_accounts\"\n                        });\n                    case 5:\n                        addressArray = _ctx.sent;\n                        if (addressArray.length > 0) {\n                            setAppStatus(\"connected\");\n                            setCurrentAccount(addressArray[0]);\n                            createUserAccount(addressArray[0]);\n                        } else {\n                            router.push(\"/\");\n                            setAppStatus(\"notConnected\");\n                        }\n                        _ctx.next = 13;\n                        break;\n                    case 9:\n                        _ctx.prev = 9;\n                        _ctx.t0 = _ctx[\"catch\"](2);\n                        router.push(\"/\");\n                        setAppStatus(\"error\");\n                    case 13:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee, null, [\n                [\n                    2,\n                    9\n                ]\n            ]);\n        }));\n        return function checkIfWalletIsConnected() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    /**\n   * Initiates MetaMask wallet connection\n   */ var connectWallet = function() {\n        var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee() {\n            var addressArray;\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        if (window.ethereum) {\n                            _ctx.next = 2;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\", setAppStatus(\"noMetaMask\"));\n                    case 2:\n                        _ctx.prev = 2;\n                        setAppStatus(\"loading\");\n                        _ctx.next = 6;\n                        return window.ethereum.request({\n                            method: \"eth_requestAccounts\"\n                        });\n                    case 6:\n                        addressArray = _ctx.sent;\n                        if (addressArray.length > 0) {\n                            setCurrentAccount(addressArray[0]);\n                            createUserAccount(addressArray[0]);\n                        } else {\n                            router.push(\"/\");\n                            setAppStatus(\"notConnected\");\n                        }\n                        _ctx.next = 13;\n                        break;\n                    case 10:\n                        _ctx.prev = 10;\n                        _ctx.t0 = _ctx[\"catch\"](2);\n                        setAppStatus(\"error\");\n                    case 13:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee, null, [\n                [\n                    2,\n                    10\n                ]\n            ]);\n        }));\n        return function connectWallet() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    /**\n   * Creates an account in Sanity DB if the user does not already have one\n   * @param {String} userAddress Wallet address of the currently logged in user\n   */ var createUserAccount = function() {\n        var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee() {\n            var userAddress, userDoc, _args = arguments;\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        userAddress = _args.length > 0 && _args[0] !== void 0 ? _args[0] : currentAccount;\n                        if (window.ethereum) {\n                            _ctx.next = 3;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\", setAppStatus(\"noMetaMask\"));\n                    case 3:\n                        _ctx.prev = 3;\n                        userDoc = {\n                            _type: \"users\",\n                            _id: userAddress,\n                            name: \"Unnamed\",\n                            isProfileImageNft: false,\n                            profileImage: \"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg\",\n                            walletAddress: userAddress\n                        };\n                        _ctx.next = 7;\n                        return _lib_client__WEBPACK_IMPORTED_MODULE_4__.client.createIfNotExists(userDoc);\n                    case 7:\n                        setAppStatus(\"connected\");\n                        _ctx.next = 14;\n                        break;\n                    case 10:\n                        _ctx.prev = 10;\n                        _ctx.t0 = _ctx[\"catch\"](3);\n                        router.push(\"/\");\n                        setAppStatus(\"error\");\n                    case 14:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee, null, [\n                [\n                    3,\n                    10\n                ]\n            ]);\n        }));\n        return function createUserAccount() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    /**\n   * Generates NFT profile picture URL or returns the image URL if it's not an NFT\n   * @param {String} imageUri If the user has minted a profile picture, an IPFS hash; if not then the URL of their profile picture\n   * @param {Boolean} isNft Indicates whether the user has minted a profile picture\n   * @returns A full URL to the profile picture\n   */ var getNftProfileImage = function() {\n        var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(imageUri, isNft) {\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        if (!isNft) {\n                            _ctx.next = 4;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\", \"https://gateway.pinata.cloud/ipfs/\".concat(imageUri));\n                    case 4:\n                        if (isNft) {\n                            _ctx.next = 6;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\", imageUri);\n                    case 6:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee);\n        }));\n        return function getNftProfileImage(imageUri, isNft) {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    /**\n   * Gets all the tweets stored in Sanity DB.\n   */ var fetchTweets = function() {\n        var _ref1 = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee1() {\n            var query, sanityResponse;\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx1) {\n                while(1)switch(_ctx1.prev = _ctx1.next){\n                    case 0:\n                        query = \"\\n      *[_type == \\\"tweets\\\"]{\\n        \\\"author\\\": author->{name, walletAddress, profileImage, isProfileImageNft},\\n        tweet,\\n        timestamp\\n      }|order(timestamp desc)\\n    \";\n                        _ctx1.next = 3;\n                        return _lib_client__WEBPACK_IMPORTED_MODULE_4__.client.fetch(query);\n                    case 3:\n                        sanityResponse = _ctx1.sent;\n                        setTweets([]);\n                        /**\n     * Async await not available with for..of loops.\n     */ sanityResponse.forEach(function() {\n                            var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(item) {\n                                var profileImageUrl, newItem;\n                                return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                                    while(1)switch(_ctx.prev = _ctx.next){\n                                        case 0:\n                                            _ctx.next = 2;\n                                            return getNftProfileImage(item.author.profileImage, item.author.isProfileImageNft);\n                                        case 2:\n                                            profileImageUrl = _ctx.sent;\n                                            if (item.author.isProfileImageNft) {\n                                                newItem = {\n                                                    tweet: item.tweet,\n                                                    timestamp: item.timestamp,\n                                                    author: {\n                                                        name: item.author.name,\n                                                        walletAddress: item.author.walletAddress,\n                                                        profileImage: profileImageUrl,\n                                                        isProfileImageNft: item.author.isProfileImageNft\n                                                    }\n                                                };\n                                                setTweets(function(prevState) {\n                                                    return _toConsumableArray(prevState).concat([\n                                                        newItem\n                                                    ]);\n                                                });\n                                            } else {\n                                                setTweets(function(prevState) {\n                                                    return _toConsumableArray(prevState).concat([\n                                                        item\n                                                    ]);\n                                                });\n                                            }\n                                        case 4:\n                                        case \"end\":\n                                            return _ctx.stop();\n                                    }\n                                }, _callee);\n                            }));\n                            return function(item) {\n                                return _ref.apply(this, arguments);\n                            };\n                        }());\n                    case 6:\n                    case \"end\":\n                        return _ctx1.stop();\n                }\n            }, _callee1);\n        }));\n        return function fetchTweets() {\n            return _ref1.apply(this, arguments);\n        };\n    }();\n    /**\n   * Gets the current user details from Sanity DB.\n   * @param {String} userAccount Wallet address of the currently logged in user\n   * @returns null\n   */ var getCurrentUserDetails = function() {\n        var _ref = _asyncToGenerator(_Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee() {\n            var userAccount, query, response, profileImageUri, _args = arguments;\n            return _Users_cedric_wang_Desktop_twitter_blockchain_youtube_main_client_node_modules_next_dist_compiled_regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_ctx) {\n                while(1)switch(_ctx.prev = _ctx.next){\n                    case 0:\n                        userAccount = _args.length > 0 && _args[0] !== void 0 ? _args[0] : currentAccount;\n                        if (!(appStatus !== \"connected\")) {\n                            _ctx.next = 3;\n                            break;\n                        }\n                        return _ctx.abrupt(\"return\");\n                    case 3:\n                        query = \"\\n      *[_type == \\\"users\\\" && _id == \\\"\".concat(userAccount, \"\\\"]{\\n        \\\"tweets\\\": tweets[]->{timestamp, tweet}|order(timestamp desc),\\n        name,\\n        profileImage,\\n        isProfileImageNft,\\n        coverImage,\\n        walletAddress\\n      }\\n    \");\n                        _ctx.next = 6;\n                        return _lib_client__WEBPACK_IMPORTED_MODULE_4__.client.fetch(query);\n                    case 6:\n                        response = _ctx.sent;\n                        _ctx.next = 9;\n                        return getNftProfileImage(response[0].profileImage, response[0].isProfileImageNft);\n                    case 9:\n                        profileImageUri = _ctx.sent;\n                        setCurrentUser({\n                            tweets: response[0].tweets,\n                            name: response[0].name,\n                            profileImage: profileImageUri,\n                            walletAddress: response[0].walletAddress,\n                            coverImage: response[0].coverImage,\n                            isProfileImageNft: response[0].isProfileImageNft\n                        });\n                    case 11:\n                    case \"end\":\n                        return _ctx.stop();\n                }\n            }, _callee);\n        }));\n        return function getCurrentUserDetails() {\n            return _ref.apply(this, arguments);\n        };\n    }();\n    return(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(TwitterContext.Provider, {\n        value: {\n            appStatus: appStatus,\n            currentAccount: currentAccount,\n            connectWallet: connectWallet,\n            tweets: tweets,\n            fetchTweets: fetchTweets,\n            setAppStatus: setAppStatus,\n            getNftProfileImage: getNftProfileImage,\n            currentUser: currentUser,\n            getCurrentUserDetails: getCurrentUserDetails\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/cedric.wang/Desktop/twitter-blockchain-youtube-main/client/context/TwitterContext.js\",\n        lineNumber: 194,\n        columnNumber: 5\n    }, _this));\n};\n_s(TwitterProvider, \"1H/f6EhhBW3OYZKv1EDd5JuddxE=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = TwitterProvider;\nvar _c;\n$RefreshReg$(_c, \"TwitterProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            var currentExports = module.__proto__.exports;\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssRUFBRSxDQUFDO1lBQ05qRCxTQUFTLEVBQVRBLFNBQVM7WUFDVEUsY0FBYyxFQUFkQSxjQUFjO1lBQ2RrQixhQUFhLEVBQWJBLGFBQWE7WUFDYmQsTUFBTSxFQUFOQSxNQUFNO1lBQ05LLFdBQVcsRUFBWEEsV0FBVztZQUNYVixZQUFZLEVBQVpBLFlBQVk7WUFDWjZCLGtCQUFrQixFQUFsQkEsa0JBQWtCO1lBQ2xCMUIsV0FBVyxFQUFYQSxXQUFXO1lBQ1hNLHFCQUFxQixFQUFyQkEscUJBQXFCO1FBQ3ZCLENBQUM7a0JBRUFYLFFBQVE7Ozs7OztBQUdmLENBQUM7R0EzTVlELGVBQWU7O1FBS1hILGtEQUFTOzs7S0FMYkcsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb250ZXh0L1R3aXR0ZXJDb250ZXh0LmpzPzdkYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyBjbGllbnQgfSBmcm9tIFwiLi4vbGliL2NsaWVudFwiO1xuXG5leHBvcnQgY29uc3QgVHdpdHRlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFthcHBTdGF0dXMsIHNldEFwcFN0YXR1c10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRBY2NvdW50LCBzZXRDdXJyZW50QWNjb3VudF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFt0d2VldHMsIHNldFR3ZWV0c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hlY2tJZldhbGxldElzQ29ubmVjdGVkKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY3VycmVudEFjY291bnQgJiYgYXBwU3RhdHVzID09IFwiY29ubmVjdGVkXCIpIHJldHVybjtcbiAgICBnZXRDdXJyZW50VXNlckRldGFpbHMoY3VycmVudEFjY291bnQpO1xuICAgIGZldGNoVHdlZXRzKCk7XG4gIH0sIFtjdXJyZW50QWNjb3VudCwgYXBwU3RhdHVzXSk7XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgd2FsbGV0IGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbnN0IGNoZWNrSWZXYWxsZXRJc0Nvbm5lY3RlZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkgcmV0dXJuIHNldEFwcFN0YXR1cyhcIm5vTWV0YU1hc2tcIik7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkZHJlc3NBcnJheSA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiBcImV0aF9hY2NvdW50c1wiLFxuICAgICAgfSk7XG4gICAgICBpZiAoYWRkcmVzc0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0QXBwU3RhdHVzKFwiY29ubmVjdGVkXCIpO1xuICAgICAgICBzZXRDdXJyZW50QWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuXG4gICAgICAgIGNyZWF0ZVVzZXJBY2NvdW50KGFkZHJlc3NBcnJheVswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXIucHVzaChcIi9cIik7XG4gICAgICAgIHNldEFwcFN0YXR1cyhcIm5vdENvbm5lY3RlZFwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKTtcbiAgICAgIHNldEFwcFN0YXR1cyhcImVycm9yXCIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIE1ldGFNYXNrIHdhbGxldCBjb25uZWN0aW9uXG4gICAqL1xuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gc2V0QXBwU3RhdHVzKFwibm9NZXRhTWFza1wiKTtcbiAgICB0cnkge1xuICAgICAgc2V0QXBwU3RhdHVzKFwibG9hZGluZ1wiKTtcblxuICAgICAgY29uc3QgYWRkcmVzc0FycmF5ID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhZGRyZXNzQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRDdXJyZW50QWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuICAgICAgICBjcmVhdGVVc2VyQWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVyLnB1c2goXCIvXCIpO1xuICAgICAgICBzZXRBcHBTdGF0dXMoXCJub3RDb25uZWN0ZWRcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRBcHBTdGF0dXMoXCJlcnJvclwiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYWNjb3VudCBpbiBTYW5pdHkgREIgaWYgdGhlIHVzZXIgZG9lcyBub3QgYWxyZWFkeSBoYXZlIG9uZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFkZHJlc3MgV2FsbGV0IGFkZHJlc3Mgb2YgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlclxuICAgKi9cbiAgY29uc3QgY3JlYXRlVXNlckFjY291bnQgPSBhc3luYyAodXNlckFkZHJlc3MgPSBjdXJyZW50QWNjb3VudCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gc2V0QXBwU3RhdHVzKFwibm9NZXRhTWFza1wiKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckRvYyA9IHtcbiAgICAgICAgX3R5cGU6IFwidXNlcnNcIixcbiAgICAgICAgX2lkOiB1c2VyQWRkcmVzcyxcbiAgICAgICAgbmFtZTogXCJVbm5hbWVkXCIsXG4gICAgICAgIGlzUHJvZmlsZUltYWdlTmZ0OiBmYWxzZSxcbiAgICAgICAgcHJvZmlsZUltYWdlOlxuICAgICAgICAgIFwiaHR0cHM6Ly9hYm91dC50d2l0dGVyLmNvbS9jb250ZW50L2RhbS9hYm91dC10d2l0dGVyL2VuL2JyYW5kLXRvb2xraXQvYnJhbmQtZG93bmxvYWQtaW1nLTEuanBnLnR3aW1nLjE5MjAuanBnXCIsXG4gICAgICAgIHdhbGxldEFkZHJlc3M6IHVzZXJBZGRyZXNzLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgY2xpZW50LmNyZWF0ZUlmTm90RXhpc3RzKHVzZXJEb2MpO1xuXG4gICAgICBzZXRBcHBTdGF0dXMoXCJjb25uZWN0ZWRcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKTtcbiAgICAgIHNldEFwcFN0YXR1cyhcImVycm9yXCIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGVzIE5GVCBwcm9maWxlIHBpY3R1cmUgVVJMIG9yIHJldHVybnMgdGhlIGltYWdlIFVSTCBpZiBpdCdzIG5vdCBhbiBORlRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJpIElmIHRoZSB1c2VyIGhhcyBtaW50ZWQgYSBwcm9maWxlIHBpY3R1cmUsIGFuIElQRlMgaGFzaDsgaWYgbm90IHRoZW4gdGhlIFVSTCBvZiB0aGVpciBwcm9maWxlIHBpY3R1cmVcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc05mdCBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdXNlciBoYXMgbWludGVkIGEgcHJvZmlsZSBwaWN0dXJlXG4gICAqIEByZXR1cm5zIEEgZnVsbCBVUkwgdG8gdGhlIHByb2ZpbGUgcGljdHVyZVxuICAgKi9cbiAgY29uc3QgZ2V0TmZ0UHJvZmlsZUltYWdlID0gYXN5bmMgKGltYWdlVXJpLCBpc05mdCkgPT4ge1xuICAgIGlmIChpc05mdCkge1xuICAgICAgcmV0dXJuIGBodHRwczovL2dhdGV3YXkucGluYXRhLmNsb3VkL2lwZnMvJHtpbWFnZVVyaX1gO1xuICAgIH0gZWxzZSBpZiAoIWlzTmZ0KSB7XG4gICAgICByZXR1cm4gaW1hZ2VVcmk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCB0aGUgdHdlZXRzIHN0b3JlZCBpbiBTYW5pdHkgREIuXG4gICAqL1xuICBjb25zdCBmZXRjaFR3ZWV0cyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgICpbX3R5cGUgPT0gXCJ0d2VldHNcIl17XG4gICAgICAgIFwiYXV0aG9yXCI6IGF1dGhvci0+e25hbWUsIHdhbGxldEFkZHJlc3MsIHByb2ZpbGVJbWFnZSwgaXNQcm9maWxlSW1hZ2VOZnR9LFxuICAgICAgICB0d2VldCxcbiAgICAgICAgdGltZXN0YW1wXG4gICAgICB9fG9yZGVyKHRpbWVzdGFtcCBkZXNjKVxuICAgIGA7XG5cbiAgICAvLyBzZXRUd2VldHMoYXdhaXQgY2xpZW50LmZldGNoKHF1ZXJ5KSlcblxuICAgIGNvbnN0IHNhbml0eVJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmZldGNoKHF1ZXJ5KTtcblxuICAgIHNldFR3ZWV0cyhbXSk7XG5cbiAgICAvKipcbiAgICAgKiBBc3luYyBhd2FpdCBub3QgYXZhaWxhYmxlIHdpdGggZm9yLi5vZiBsb29wcy5cbiAgICAgKi9cbiAgICBzYW5pdHlSZXNwb25zZS5mb3JFYWNoKGFzeW5jIChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBwcm9maWxlSW1hZ2VVcmwgPSBhd2FpdCBnZXROZnRQcm9maWxlSW1hZ2UoXG4gICAgICAgIGl0ZW0uYXV0aG9yLnByb2ZpbGVJbWFnZSxcbiAgICAgICAgaXRlbS5hdXRob3IuaXNQcm9maWxlSW1hZ2VOZnRcbiAgICAgICk7XG5cbiAgICAgIGlmIChpdGVtLmF1dGhvci5pc1Byb2ZpbGVJbWFnZU5mdCkge1xuICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICAgIHR3ZWV0OiBpdGVtLnR3ZWV0LFxuICAgICAgICAgIHRpbWVzdGFtcDogaXRlbS50aW1lc3RhbXAsXG4gICAgICAgICAgYXV0aG9yOiB7XG4gICAgICAgICAgICBuYW1lOiBpdGVtLmF1dGhvci5uYW1lLFxuICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogaXRlbS5hdXRob3Iud2FsbGV0QWRkcmVzcyxcbiAgICAgICAgICAgIHByb2ZpbGVJbWFnZTogcHJvZmlsZUltYWdlVXJsLFxuICAgICAgICAgICAgaXNQcm9maWxlSW1hZ2VOZnQ6IGl0ZW0uYXV0aG9yLmlzUHJvZmlsZUltYWdlTmZ0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0VHdlZXRzKChwcmV2U3RhdGUpID0+IFsuLi5wcmV2U3RhdGUsIG5ld0l0ZW1dKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFR3ZWV0cygocHJldlN0YXRlKSA9PiBbLi4ucHJldlN0YXRlLCBpdGVtXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdXNlciBkZXRhaWxzIGZyb20gU2FuaXR5IERCLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFjY291bnQgV2FsbGV0IGFkZHJlc3Mgb2YgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlclxuICAgKiBAcmV0dXJucyBudWxsXG4gICAqL1xuICBjb25zdCBnZXRDdXJyZW50VXNlckRldGFpbHMgPSBhc3luYyAodXNlckFjY291bnQgPSBjdXJyZW50QWNjb3VudCkgPT4ge1xuICAgIGlmIChhcHBTdGF0dXMgIT09IFwiY29ubmVjdGVkXCIpIHJldHVybjtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgKltfdHlwZSA9PSBcInVzZXJzXCIgJiYgX2lkID09IFwiJHt1c2VyQWNjb3VudH1cIl17XG4gICAgICAgIFwidHdlZXRzXCI6IHR3ZWV0c1tdLT57dGltZXN0YW1wLCB0d2VldH18b3JkZXIodGltZXN0YW1wIGRlc2MpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBwcm9maWxlSW1hZ2UsXG4gICAgICAgIGlzUHJvZmlsZUltYWdlTmZ0LFxuICAgICAgICBjb3ZlckltYWdlLFxuICAgICAgICB3YWxsZXRBZGRyZXNzXG4gICAgICB9XG4gICAgYDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5mZXRjaChxdWVyeSk7XG5cbiAgICBjb25zdCBwcm9maWxlSW1hZ2VVcmkgPSBhd2FpdCBnZXROZnRQcm9maWxlSW1hZ2UoXG4gICAgICByZXNwb25zZVswXS5wcm9maWxlSW1hZ2UsXG4gICAgICByZXNwb25zZVswXS5pc1Byb2ZpbGVJbWFnZU5mdFxuICAgICk7XG5cbiAgICBzZXRDdXJyZW50VXNlcih7XG4gICAgICB0d2VldHM6IHJlc3BvbnNlWzBdLnR3ZWV0cyxcbiAgICAgIG5hbWU6IHJlc3BvbnNlWzBdLm5hbWUsXG4gICAgICBwcm9maWxlSW1hZ2U6IHByb2ZpbGVJbWFnZVVyaSxcbiAgICAgIHdhbGxldEFkZHJlc3M6IHJlc3BvbnNlWzBdLndhbGxldEFkZHJlc3MsXG4gICAgICBjb3ZlckltYWdlOiByZXNwb25zZVswXS5jb3ZlckltYWdlLFxuICAgICAgaXNQcm9maWxlSW1hZ2VOZnQ6IHJlc3BvbnNlWzBdLmlzUHJvZmlsZUltYWdlTmZ0LFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFR3aXR0ZXJDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICBhcHBTdGF0dXMsXG4gICAgICAgIGN1cnJlbnRBY2NvdW50LFxuICAgICAgICBjb25uZWN0V2FsbGV0LFxuICAgICAgICB0d2VldHMsXG4gICAgICAgIGZldGNoVHdlZXRzLFxuICAgICAgICBzZXRBcHBTdGF0dXMsXG4gICAgICAgIGdldE5mdFByb2ZpbGVJbWFnZSxcbiAgICAgICAgY3VycmVudFVzZXIsXG4gICAgICAgIGdldEN1cnJlbnRVc2VyRGV0YWlscyxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVHdpdHRlckNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsImNsaWVudCIsIlR3aXR0ZXJDb250ZXh0IiwiVHdpdHRlclByb3ZpZGVyIiwiY2hpbGRyZW4iLCJhcHBTdGF0dXMiLCJzZXRBcHBTdGF0dXMiLCJjdXJyZW50QWNjb3VudCIsInNldEN1cnJlbnRBY2NvdW50IiwiY3VycmVudFVzZXIiLCJzZXRDdXJyZW50VXNlciIsInR3ZWV0cyIsInNldFR3ZWV0cyIsInJvdXRlciIsImNoZWNrSWZXYWxsZXRJc0Nvbm5lY3RlZCIsImdldEN1cnJlbnRVc2VyRGV0YWlscyIsImZldGNoVHdlZXRzIiwiYWRkcmVzc0FycmF5Iiwid2luZG93IiwiZXRoZXJldW0iLCJyZXF1ZXN0IiwibWV0aG9kIiwibGVuZ3RoIiwiY3JlYXRlVXNlckFjY291bnQiLCJwdXNoIiwiY29ubmVjdFdhbGxldCIsInVzZXJBZGRyZXNzIiwidXNlckRvYyIsIl90eXBlIiwiX2lkIiwibmFtZSIsImlzUHJvZmlsZUltYWdlTmZ0IiwicHJvZmlsZUltYWdlIiwid2FsbGV0QWRkcmVzcyIsImNyZWF0ZUlmTm90RXhpc3RzIiwiZ2V0TmZ0UHJvZmlsZUltYWdlIiwiaW1hZ2VVcmkiLCJpc05mdCIsInF1ZXJ5Iiwic2FuaXR5UmVzcG9uc2UiLCJmZXRjaCIsImZvckVhY2giLCJpdGVtIiwicHJvZmlsZUltYWdlVXJsIiwibmV3SXRlbSIsImF1dGhvciIsInR3ZWV0IiwidGltZXN0YW1wIiwicHJldlN0YXRlIiwidXNlckFjY291bnQiLCJyZXNwb25zZSIsInByb2ZpbGVJbWFnZVVyaSIsImNvdmVySW1hZ2UiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./context/TwitterContext.js\n");

/***/ })

});